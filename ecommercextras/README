###############################################
EcommerceXtra
Pre 0.1 proof of concept
###############################################

Developer
-----------------------------------------------
Nicolaas Francken [at] sunnysideup.co.nz

Requirements
-----------------------------------------------
SilverStripe 2.3.0 or greater.

Documentation
-----------------------------------------------
Provides extra functionality for the SS ecommerce
code base.

The list below provides an overview of what is available.
Please also have a look at the code itself before installing.

DECORATORS:

AjaxOrder: this is one of the core files of this module that
allows you to add ajax functionality for adding and deleting
from cart. It also has function for deleting all cookie-nised
content, which can be useful for testing purposes.
TO DO:
* move the testing stuff to its own decorator.
* provide more html snippets for ajax stuff

FORMS:

OrderFormWithoutShippingAddress: pretty much self-explainatory.
It takes the standard OrderForm and changes it after it has been
built.  We do it this way to allow easy ecommerce modules
upgrades without having to hack the core.

TO DO:
* make it even more flexible
* make sure that values are retained if bad data is entered

MODIFIERS:

BonusProductModifier: allows you to add products to cart at a reduced
or zero price.

GSTTaxModifier: makes working with GST easier.  TO DO: create
report that shows GST takings per day, month, etc...

NewsletterSignupModifier: allows you to add a tickbox in the checkout page
for customers to sign-up for your newsletter.  TO DO: actually
save the data with the member.

PickUpOrDeliveryModifier: allows for a wide range of pick-up /
delivery option with associated pricing. It does NOT relete to the
country chosen in the member field "country".  Instead, you can make
a dropdown of options (e.g. nationwide delivery, delivery to europe,
pick-up from store or whatever).


RecommendedProductsModifier: allows you to recommend products as
accessories to other products (i.e. as recommended products) and
show those products on the checkout page.

ModifierRulesModifier:  allows you to check rules like this
> if(Modifier A::variable = ... set Modifier B::variable to ...)
> variables can also be functions (for both getting and setting)
> it checks for the function first and then does the variable

PAYMENT:

DirectCreditPayment: the option for people who want to pay into
a bank account rather than cheque payment.
TO DO: move to a payment module

PRODUCTS:

ManageablePriceOrderItem: this class extends Product_OrderItem,
allowing you to change the price of a product when it is being
added to the cart.  This class is required by BonusProductModifier.

REPORTS:

SearchableOrderReport: this is for the report section of the CMS.
Ideally, you would actually remove the report section and show
the sales menu item instead.
It gives you another report that helps you search for orders.
TO DO: show sexier reports.







Installation Instructions
-----------------------------------------------
1. Find out how to add modules to SS and add module as per usual.
2. copy configurations from this module's _config.php file
into mysite/_config.php file and edit settings as required.
NB. the idea is not to edit the module, but instead customise it
in your mysite folder at all so that you can upgrade it later.

If you just want one or two things from this module
then of course you are free to copy them to your
mysite folder and delete the rest of this module.





tips
-----------------------------------------------------------

how to change order status options:

create class in your mysite folder like this

class OrderDecoratorCustom extends DataObjectDecorator {

	function extraStatics() {
		return array(
			'db' => array(
				'Status' => 'Enum("New,ConfirmingPayment,QueryForCustomer,ProductsOnOrder,Dispatching,CustomerReceiving,Completed,MemberCancelled,AdminCancelled","New")',
			)
		);
	}
}

and then add the following to your _config.php file:

DataObjectDecorator::add_extension('Order', 'OrderDecoratorCustom');
